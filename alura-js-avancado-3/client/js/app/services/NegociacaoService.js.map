{"version":3,"sources":["../../app-src/services/NegociacaoService.js"],"names":["HttpService","Negociacao","NegociacaoService","_http","Promise","all","obterNegociacoesDaSemana","obterNegociacoesDaSemanaAnterior","obterNegociacoesDaSemanaRetrasada","then","resultados","reduce","todasNegociacoes","negociacoes","concat","catch","Error","erro","get","map","Date","item","data","quantidade","valor","console","log"],"mappings":";;;;;;;;;;;;;;;AAAQA,uB,iBAAAA,W;;AACAC,sB,qBAAAA,U;;;;;;;;;;;;;;;;;;;;;yCAEKC,iB;AAET,6CAAc;AAAA;;AACV,yBAAKC,KAAL,GAAa,IAAIH,WAAJ,EAAb;AACH;;;;4DAEuB;AACpB,+BAAOI,QAAQC,GAAR,CAAY,CACf,KAAKC,wBAAL,EADe,EAEf,KAAKC,gCAAL,EAFe,EAGf,KAAKC,iCAAL,EAHe,CAAZ,EAKNC,IALM,CAKD,sBAAc;AAChB,mCAAOC,WAAWC,MAAX,CAAkB,UAACC,gBAAD,EAAmBC,WAAnB;AAAA,uCAAmCD,iBAAiBE,MAAjB,CAAwBD,WAAxB,CAAnC;AAAA,6BAAlB,EAA2F,EAA3F,CAAP;AACH,yBAPM,EAQNE,KARM,CAQA,gBAAQ;AACX,kCAAM,IAAIC,KAAJ,CAAUC,IAAV,CAAN;AACH,yBAVM,CAAP;AAWH;;;+DAE0B;AACvB,+BAAO,KAAKd,KAAL,CAAWe,GAAX,CAAe,oBAAf,EACMT,IADN,CACW,uBAAe;AACjB,mCAAOI,YAAYM,GAAZ,CAAgB;AAAA,uCAAQ,IAAIlB,UAAJ,CAAe,IAAImB,IAAJ,CAASC,KAAKC,IAAd,CAAf,EAAoCD,KAAKE,UAAzC,EAAqDF,KAAKG,KAA1D,CAAR;AAAA,6BAAhB,CAAP;AACH,yBAHN,EAIMT,KAJN,CAIY,gBAAQ;AACXU,oCAAQC,GAAR,CAAYT,IAAZ;AACA,kCAAM,IAAID,KAAJ,CAAU,iDAAV,CAAN;AACH,yBAPN,CAAP;AAQH;;;uEAEkC;AAC/B,+BAAO,KAAKb,KAAL,CAAWe,GAAX,CAAe,sBAAf,EACMT,IADN,CACW,uBAAe;AACjB,mCAAOI,YAAYM,GAAZ,CAAgB;AAAA,uCAAQ,IAAIlB,UAAJ,CAAe,IAAImB,IAAJ,CAASC,KAAKC,IAAd,CAAf,EAAoCD,KAAKE,UAAzC,EAAqDF,KAAKG,KAA1D,CAAR;AAAA,6BAAhB,CAAP;AACH,yBAHN,EAIMT,KAJN,CAIY,gBAAQ;AACXU,oCAAQC,GAAR,CAAYT,IAAZ;AACA,kCAAM,IAAID,KAAJ,CAAU,0DAAV,CAAN;AACH,yBAPN,CAAP;AAQH;;;wEAEmC;AAChC,+BAAO,KAAKb,KAAL,CAAWe,GAAX,CAAe,uBAAf,EACMT,IADN,CACW,uBAAe;AACjB,mCAAOI,YAAYM,GAAZ,CAAgB;AAAA,uCAAQ,IAAIlB,UAAJ,CAAe,IAAImB,IAAJ,CAASC,KAAKC,IAAd,CAAf,EAAoCD,KAAKE,UAAzC,EAAqDF,KAAKG,KAA1D,CAAR;AAAA,6BAAhB,CAAP;AACH,yBAHN,EAIMT,KAJN,CAIY,gBAAQ;AACXU,oCAAQC,GAAR,CAAYT,IAAZ;AACA,kCAAM,IAAID,KAAJ,CAAU,2DAAV,CAAN;AACH,yBAPN,CAAP;AAQH","file":"NegociacaoService.js","sourcesContent":["import {HttpService} from './HttpServiceV2';\nimport {Negociacao} from '../models/Negociacao'\n\nexport class NegociacaoService {\n    \n    constructor() {\n        this._http = new HttpService();\n    }\n    \n    obterTodasNegociacoes() {\n        return Promise.all([\n            this.obterNegociacoesDaSemana(),\n            this.obterNegociacoesDaSemanaAnterior(),\n            this.obterNegociacoesDaSemanaRetrasada()\n        ])\n        .then(resultados => {\n            return resultados.reduce((todasNegociacoes, negociacoes) => todasNegociacoes.concat(negociacoes), []);\n        })\n        .catch(erro => {\n            throw new Error(erro);\n        });\n    }\n    \n    obterNegociacoesDaSemana() {\n        return this._http.get('negociacoes/semana')\n                    .then(negociacoes => {\n                        return negociacoes.map(item => new Negociacao(new Date(item.data), item.quantidade, item.valor));\n                    })\n                    .catch(erro => {\n                        console.log(erro);\n                        throw new Error('Não foi possível obter as negociações da semana');\n                    });\n    }\n    \n    obterNegociacoesDaSemanaAnterior() {\n        return this._http.get('negociacoes/anterior')\n                    .then(negociacoes => {\n                        return negociacoes.map(item => new Negociacao(new Date(item.data), item.quantidade, item.valor));\n                    })\n                    .catch(erro => {\n                        console.log(erro);\n                        throw new Error('Não foi possível obter as negociações da semana anterior');\n                    });\n    }\n    \n    obterNegociacoesDaSemanaRetrasada() {\n        return this._http.get('negociacoes/retrasada')\n                    .then(negociacoes => {\n                        return negociacoes.map(item => new Negociacao(new Date(item.data), item.quantidade, item.valor));\n                    })\n                    .catch(erro => {\n                        console.log(erro);\n                        throw new Error('Não foi possível obter as negociações da semana retrasada');\n                    });\n    }\n    \n}"]}